<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lucky Jet Сигналы</title>
  <link rel="stylesheet" href="style.css" />
  <!-- Telegram WebApp (необязательно, но лучше оставить) -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <!-- ПРЕВЬЮ -->
  <div id="preview" onclick="startGame()">
    <img src="assets/preview.png" alt="Lucky Jet Preview" />
    <div class="play-btn">ИГРАТЬ</div>
  </div>

  <!-- ИГРА -->
  <div id="game" class="hidden">
    <img id="game-bg" src="assets/background.jpg" />
    <div id="stars"></div>
    <div id="clouds"></div>

    <!-- Логотип сверху (чуть опущен) -->
    <div id="header-title">
      <img src="assets/luckyjet_text.svg" alt="Lucky Jet" />
    </div>

    <!-- Прелоадер -->
    <div id="preloader">
      <img src="assets/preloader.svg" class="loader" />
      <p>Загрузка...</p>
    </div>

    <!-- Орбита и джетмен -->
    <div id="center-orbit">
      <div id="multiplier">x2.18</div>
      <div id="jetman-container">
        <img id="jetman" src="assets/jetman.png" />
        <img id="fire" src="assets/jetpack_fire.svg" />
      </div>
    </div>

    <!-- Кнопка сигнала -->
    <button id="get-signal" onclick="generateSignal()">ПОЛУЧИТЬ СИГНАЛ</button>
  </div>

  <script>
    Telegram?.WebApp?.ready();
    Telegram?.WebApp?.expand();

    let currentCoeff = 2.18;

    function startGame() {
      document.getElementById('preview').classList.add('hidden');
      document.getElementById('game').classList.remove('hidden');
      setTimeout(() => {
        document.getElementById('preloader').classList.add('hidden');
        document.getElementById('header-title').classList.remove('hidden');
        updateCoeff(currentCoeff);
      }, 3000);
    }

    function generateSignal() {
      currentCoeff = (Math.random() * 13.5 + 1.5).toFixed(2);
      updateCoeff(currentCoeff);
      Telegram?.WebApp?.HapticFeedback?.impactOccurred('medium');
    }

    function updateCoeff(coeff) {
      document.getElementById('multiplier').textContent = `x${Number(coeff).toFixed(2)}`;
    }
  </script>
</body>
</html>
